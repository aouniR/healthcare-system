<div class="row">
  <div class="col-xl-12">
    <div class="card shadow-lg border-0 rounded">
      <div class="card-body">
        <h4 class="card-title mb-4 text-center">Add New User</h4>
        <form [formGroup]="userForm" (ngSubmit)="addUser()">
          
          <div class="mb-3 form-floating">
            <input type="text" class="form-control" id="username" formControlName="username" placeholder="Enter username" required>
            <label for="username">Username</label>
            <div *ngIf="userForm.get('username')?.invalid && userForm.get('username')?.touched" class="text-danger mt-1">
              <small *ngIf="userForm.get('username')?.errors?.['required']">Username is required.</small>
              <small *ngIf="userForm.get('username')?.errors?.['minlength']">Username must be at least 6 characters.</small>
            </div>
          </div>

          <div class="mb-3 form-floating">
            <input type="email" class="form-control" id="email" formControlName="email" placeholder="Enter email" required>
            <label for="email">Email address</label>
            <div *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched" class="text-danger mt-1">
              <small *ngIf="userForm.get('email')?.errors?.['required']">Email is required.</small>
              <small *ngIf="userForm.get('email')?.errors?.['email']">Email must be valid.</small>
            </div>
          </div>

          <div class="mb-3 form-floating">
            <input type="password" class="form-control" id="password" formControlName="password" placeholder="Enter password" required>
            <label for="password">Password</label>
            <div *ngIf="userForm.get('password')?.invalid && userForm.get('password')?.touched" class="text-danger mt-1">
              <small *ngIf="userForm.get('password')?.errors?.['required']">Password is required.</small>
              <small *ngIf="userForm.get('password')?.errors?.['pattern']">Password must be at least 8 characters and contain at least one letter and one number.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="role" class="form-label">Role</label>
            <select class="form-select" id="role" formControlName="role" required>
              <option value="">Select role</option>
              <option value="ADMIN">ADMIN</option> 
              <option value="PROFESSIONNELDESANTE">PROFESSIONNEL DE SANTE</option>
              <option value="AGENTADMINISTRATIF">AGENT ADMINISTRATIF</option>
            </select>
            <div *ngIf="userForm.get('role')?.invalid && userForm.get('role')?.touched" class="text-danger mt-1">
              <small>Role is required.</small>
            </div>
          </div>

          <div class="d-flex justify-content-between mt-4">
            <button type="submit" class="btn btn-outline-primary" [disabled]="userForm.invalid">Add User</button>
            <button type="button" class="btn btn-outline-secondary" (click)="cancel()">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
